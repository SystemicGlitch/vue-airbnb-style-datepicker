<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Examples (Vue 3 Demo Copy)</title>
    <!-- Use local UMD build and CSS from dist (run a build first) -->
    <link rel="stylesheet" href="../dist/style.css" />
    <style>
      html, body { min-height: 100vh; font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif; line-height: 18px; font-weight: 400; -webkit-font-smoothing: antialiased; padding: 10px; }
      h1 { font-size: 1.8em; line-height: 1.5em; text-align: center; }
      .buttons { max-width: 800px; margin: 0 auto 20px; text-align: center; display: flex; align-items: center; justify-content: center; gap: 10px 16px; flex-wrap: wrap; }
      .datepicker-container { padding: 0 20px 16px; border: 1px solid rgba(0,0,0,0.2); background: rgba(0,0,0,0.01); max-width: 900px; width: 100%; margin: 0 auto 20px; border-radius: 12px; }
      #datepicker-button-trigger, #datepicker-button-dark-trigger { background: #008489; border: 1px solid #008489; color: white; padding: 6px 10px; border-radius: 4px; font-size: 15px; font-weight: bold; text-align: center; min-width: 200px; }
      input[type="text"] { padding: 6px 10px; border: 1px solid rgba(0,0,0,0.2); width: 100%; box-sizing: border-box; }
      .demo-booking-row.demo-hovered { background: rgba(0, 166, 153, 0.09); border-radius: 6px; }
      @media (max-width: 640px){ body { padding: 10px 8px; } .datepicker-container { padding: 0 12px 12px; } }
    </style>
  </head>
  <body>
    <div id="app">
      <h1>Examples</h1>

      <div class="buttons">
        <label><input type="checkbox" v-model="useDark" /> Dark mode</label>
        <label>Locale: <select v-model="selectedLocale"><option v-for="loc in locales" :key="loc.id" :value="loc.id">{{ loc.label }}</option></select></label>
      </div>

      <div class="datepicker-container with-input">
        <h3>Range datepicker with input</h3>
        <div class="datepicker-trigger">
          <input type="text" id="datepicker-input-trigger" :value="formatDates(inputDateOne, inputDateTwo)" placeholder="Select dates" readonly />
          <airbnb-style-datepicker
            :trigger-element-id="'datepicker-input-trigger'"
            :mode="'range'"
            :date-one="inputDateOne"
            :months-to-show="2"
            :show-action-buttons="true"
            :show-month-year-select="true"
            :month-names-override="currentLocale.monthNames"
            :days-override="currentLocale.days"
            :days-short-override="currentLocale.daysShort"
            :theme="demoTheme"
            @date-one-selected="val => { inputDateOne = val }"
            @date-two-selected="val => { inputDateTwo = val }"
          />
        </div>
      </div>

      <div class="datepicker-container single-with-input">
        <h3>Single datepicker with input</h3>
        <div class="datepicker-trigger">
          <input type="text" id="datepicker-input-single-trigger" :value="formatDates(inputSingleDateOne)" placeholder="Select date" readonly />
          <airbnb-style-datepicker
            :trigger-element-id="'datepicker-input-single-trigger'"
            :mode="'single'"
            :date-one="inputSingleDateOne"
            :month-names-override="currentLocale.monthNames"
            :days-override="currentLocale.days"
            :days-short-override="currentLocale.daysShort"
            :theme="demoTheme"
            @date-one-selected="val => { inputSingleDateOne = val }"
          />
        </div>
      </div>

      <div class="datepicker-container with-button">
        <h3>Range datepicker with button</h3>
        <div class="datepicker-trigger">
          <button id="datepicker-button-trigger">{{ formatDates(buttonDateOne, buttonDateTwo) || 'Select dates' }}</button>
          <airbnb-style-datepicker
            :trigger-element-id="'datepicker-button-trigger'"
            :mode="'range'"
            :date-one="buttonDateOne"
            :date-two="buttonDateTwo"
            :months-to-show="2"
            :offset-y="10"
            :close-after-select="true"
            :month-names-override="currentLocale.monthNames"
            :days-override="currentLocale.days"
            :days-short-override="currentLocale.daysShort"
            :theme="demoTheme"
            @date-one-selected="val => { buttonDateOne = val }"
            @date-two-selected="val => { buttonDateTwo = val }"
          />
        </div>
      </div>

      <div class="datepicker-container inline-with-input">
        <h3>Inline datepicker with input</h3>
        <div class="buttons" style="justify-content:flex-start; max-width:900px;">
          <label>Months to show: <input type="number" v-model.number="inlineMonthsToShow" min="1" max="6" style="width:70px; margin-left:6px;" /></label>
          <label v-if="!demoAutoFitInline">Month width: <input type="range" min="260" max="360" step="2" v-model.number="demoMonthWidth" /></label>
          <label><input type="checkbox" v-model="demoAutoFitInline" /> Auto-fit inline</label>
          <label><input type="checkbox" v-model="showOutsideDaysDemo" /> Show outside days</label>
          <label>Day number position:
            <select v-model="demoDayPosition"><option value="center">Center</option><option value="top-left">Top left</option><option value="top-right">Top right</option><option value="bottom-left">Bottom left</option><option value="bottom-right">Bottom right</option></select>
          </label>
          <label>Extra content position:
            <select v-model="demoDayExtraPosition"><option value="center">Center</option><option value="top">Top</option><option value="bottom">Bottom</option><option value="left">Left</option><option value="right">Right</option></select>
          </label>
        </div>
        <input id="datepicker-inline-trigger" :value="formatDates(inlineDateOne)" type="text" placeholder="Select date" readonly />
        <airbnb-style-datepicker
          :trigger-element-id="'datepicker-inline-trigger'"
          :mode="'single'"
          :inline="true"
          :fullscreen-mobile="false"
          :date-one="inlineDateOne"
          :months-to-show="inlineMonthsToShow"
          :month-width="demoMonthWidth"
          :auto-fit-inline="demoAutoFitInline"
          :show-outside-days="showOutsideDaysDemo"
          :day-number-position="demoDayPosition"
          :day-extra-position="demoDayExtraPosition"
          :theme="demoTheme"
          :month-names-override="currentLocale.monthNames"
          :days-override="currentLocale.days"
          :days-short-override="currentLocale.daysShort"
          @date-one-selected="val => { inlineDateOne = val }"
        >
          <template #day-extra="{ day, date }">
            <small class="demo-price" :title="`Price for ${date}`">${{ priceFor(day) }}</small>
          </template>
        </airbnb-style-datepicker>
      </div>

      <div class="datepicker-container">
        <h3>Reservations demo</h3>
        <div style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
          <label><input type="checkbox" v-model="showReservationsDemo" /> Show reservations</label>
        </div>
        <airbnb-style-datepicker
          :inline="true"
          :months-to-show="2"
          :date-one="inlineDateOne"
          :theme="demoTheme"
          :month-names-override="currentLocale.monthNames"
          :days-override="currentLocale.days"
          :days-short-override="currentLocale.daysShort"
          :reservations="showReservationsDemo ? demoReservations : []"
          :disabled-dates="showReservationsDemo ? demoBlockedDates : []"
          @date-one-selected="val => { inlineDateOne = val }"
          @reservation-hovered="onReservationHovered"
        >
          <template #day-extra="{ day, date }">
            <small class="demo-price" :title="`Price for ${date}`">${{ priceFor(day) }}</small>
          </template>
        </airbnb-style-datepicker>
        <div v-if="showReservationsDemo" style="margin-top:12px;">
          <h4>Bookings</h4>
          <ul style="list-style:none; padding:0; margin:6px 0 0;">
            <li v-for="(r, i) in demoReservations" :key="r.id || i" :class="['demo-booking-row', { 'demo-hovered': (hoveredBookingId === (r.id || i)) }]" style="display:flex; gap:10px; align-items:center; padding:6px 0;">
              <span :style="{ width: '18px', height: '12px', background: r.color || '#bbb', display: 'inline-block', borderRadius: '3px', border: '1px solid rgba(0,0,0,0.08)' }"></span>
              <span style="font-size:0.95em; font-weight:600; min-width: 140px;">{{ r.label || 'Guest' }}</span>
              <span style="font-size:0.95em">{{ r.start }} — {{ r.end }} <small style="color:#666;">{{ r.color ? r.color : '(auto color)' }}</small></span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Vue 3 and local UMD build -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="../dist/vue-airbnb-style-datepicker.js"></script>
    <script>
      const { createApp } = Vue
      const app = createApp({
        data() {
          return {
            dateFormat: 'YYYY-MM-DD',
            useDark: false,
            selectedLocale: 'en',
            locales: [
              { id: 'en', label: 'English', monthNames: ['January','February','March','April','May','June','July','August','September','October','November','December'], days: ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'], daysShort: ['Su','Mo','Tu','We','Th','Fr','Sa'] },
              { id: 'sv', label: 'Svenska', monthNames: ['Januari','Februari','Mars','April','Maj','Juni','Juli','Augusti','September','Oktober','November','December'], days: ['Söndag','Måndag','Tisdag','Onsdag','Torsdag','Fredag','Lördag'], daysShort: ['Sö','Må','Ti','On','To','Fr','Lö'] },
            ],
            inputDateOne: '', inputDateTwo: '',
            inputSingleDateOne: '',
            buttonDateOne: '', buttonDateTwo: '',
            inlineDateOne: '',
            inlineMonthsToShow: 2,
            demoMonthWidth: null,
            demoAutoFitInline: true,
            showOutsideDaysDemo: false,
            demoDayPosition: 'top-left',
            demoDayExtraPosition: 'bottom',
            showReservationsDemo: true,
            hoveredBookingId: null,
            demoReservations: [
              { id: 101, start: '2026-03-02', end: '2026-03-04', label: 'Alice Nguyen', tooltip: 'Guest: Alice Nguyen', color: '#e67e22' },
              { id: 104, start: '2026-03-20', end: '2026-03-21', label: 'Day Guest', tooltip: 'Guest: Day Guest', color: '#8e44ad' },
              { id: 105, start: '2026-03-24', end: '2026-03-27', label: 'Evelyn Park', tooltip: 'Guest: Evelyn Park' },
              { id: 106, start: '2026-03-29', end: '2026-04-02', label: 'Felipe García', tooltip: 'Guest: Felipe García', color: '#16a085' },
            ],
            demoBlockedDates: ['2026-03-11','2026-03-18','2026-03-22','2026-03-31','2026-04-03','2026-04-09'],
          }
        },
        computed: {
          currentLocale(){ return this.locales.find(l => l.id === this.selectedLocale) || this.locales[0] },
          demoTheme(){ return this.useDark ? 'dark' : undefined },
        },
        methods: {
          priceFor(day){ const n = Number(day); return (!n || isNaN(n)) ? '—' : (n * 5).toFixed(0) },
          formatDates(dateOne, dateTwo){
            let s = ''
            if (dateOne) s = dateOne
            if (dateTwo) s += ' - ' + dateTwo
            return s
          },
          onReservationHovered(payload){ this.hoveredBookingId = payload ? payload.id : null },
        }
      })
      app.use(window.AirbnbStyleDatepicker)
      app.mount('#app')
    </script>
  </body>
</html>
